//! # debug
//!
//! debug 模块 - 提供调试相关的实用工具函数
//!
//! @author TimonQWQ
//! @date 2026-01-06

//! Debug utilities - 调试工具集
//!
//! 本模块提供了多个调试工具函数，用于帮助开发者进行调试和错误追踪。

//! // 获取当前堆栈跟踪信息
//! //
//! // 此函数捕获并返回当前调用堆栈的详细信息，用于调试和错误追踪。
//! // 堆栈跟踪包含函数调用的完整路径，从当前函数回溯到程序入口点。
//! //
//! // # 返回值
//! //
//! // 返回一个字符串，包含格式化的堆栈跟踪信息。每一行代表一个栈帧，
//! // 包含函数名、文件名和行号等信息。
//! //
//! // # 使用示例
//! //
//! // ```rust
//! // use rf_debug::stack_trace;
//! //
//! // // 在需要调试的地方获取堆栈跟踪
//! // let trace = stack_trace();
//! // println!("当前堆栈:\n{}", trace);
//! // ```
//! //
//! // # 注意事项
//! //
//! // - 堆栈跟踪信息可能包含敏感的内部实现细节
//! // - 在发布版本中，堆栈跟踪可能被优化或简化
//! // - 此函数依赖于 `backtrace` crate
pub fn stack_trace() -> String {
    format!("{:?}", backtrace::Backtrace::new())
}

/// 获取当前包的版本信息
///
/// 此函数返回编译时确定的包版本号，版本号来自 Cargo.toml 文件。
///
/// # 返回值
///
/// 返回一个静态字符串切片（`&'static str`），包含版本号。
/// 版本号格式通常为 "主版本号.次版本号.修订号"（如 "1.0.0"）。
///
/// # 使用示例
///
/// ```rust
/// use rf_debug::version;
///
/// // 获取版本信息
/// let ver = version();
/// println!("当前版本: {}", ver);
/// // 输出示例: 当前版本: 0.1.0
/// ```
///
/// # 注意事项
///
/// - 版本号在编译时确定，不会在运行时更改
/// - 版本号来自于 Cargo.toml 中的 `version` 字段
/// - 使用 `env!` 宏在编译时注入版本信息
pub fn version() -> &'static str {
    env!("CARGO_PKG_VERSION")
}
